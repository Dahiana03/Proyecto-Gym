<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IRON WILL - Registro</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body id="auth-page">

  <script>
document.querySelector(".register-form").addEventListener("submit", function(e) {
  e.preventDefault();

  const username = document.querySelector("#username").value;
  const password = document.querySelector("#password").value;

  if(username && password) {
    // Guardamos al usuario en localStorage (simulación de base de datos)
    localStorage.setItem("usuarioRegistrado", JSON.stringify({
      username: username,
      password: password
    }));

    alert("Cuenta creada con éxito, ahora puedes iniciar sesión");
    window.location.href = "login.html";
  } else {
    alert("Por favor completa todos los campos");
  }
});
</script>

<header class="navbar">
  <div class="logo">IRON WILL</div>
  <nav>
    <ul>
      <li><a href="index.html">Inicio</a></li>
      <li><a href="clases.html">Clases</a></li>
      <li><a href="tienda.html">Tienda</a></li>
      <li><a href="carrito.html">Carrito <span id="cart-count">0</span></a></li>
      <li><a href="login.html">Iniciar Sesión</a></li>
      <li><a href="contacto.html">Contacto</a></li>
    </ul>
  </nav>
</header>

<form class="register-form">
  <h2>Regístrate</h2>
  <input id="name" type="text" placeholder="Nombre completo" required />
  <input id="email" type="email" placeholder="Correo electrónico" required />
  <input id="password" type="password" placeholder="Contraseña (mínimo 6 caracteres)" required />
  <button type="submit" class="btn-primary">Crear Cuenta</button>
  <p>¿Ya tienes cuenta? <a href="login.html">Inicia sesión aquí</a></p>
</form>


<script src="auth.js"></script>
<script>
document.querySelector(".register-form").addEventListener("submit", function(e) {
  e.preventDefault();
  
  const name = document.getElementById("name").value.trim();
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();

  if (!name) return alert("Por favor ingresa tu nombre");
  if (!email.includes("@")) return alert("Correo inválido");
  if (password.length < 6) return alert("La contraseña debe tener mínimo 6 caracteres");

  let users = JSON.parse(localStorage.getItem("ironwill_users") || "[]");
  if (users.some(u => u.email === email)) return alert("Ya existe un usuario con ese correo");

  const newUser = { name, email, password };
  users.push(newUser);
  localStorage.setItem("ironwill_users", JSON.stringify(users));

  alert("Registro exitoso ✅ Ahora puedes iniciar sesión");
  window.location.href = "login.html";
});
</script>

</body>
</html>
